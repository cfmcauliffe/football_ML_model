{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "7aeec17f",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([2016, 2017, 2018, 2019])"
      ]
     },
     "execution_count": 2,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "import pandas as pd\n",
    "import numpy as np\n",
    "import seaborn as sns\n",
    "import matplotlib.pyplot as plt\n",
    "B10_SEC = pd.read_csv(\"Downloads/B10_SEC_cleaned.csv\")\n",
    "B10_SEC\n",
    "# just get big ten east for now \n",
    "# predict on 2019 so create new df of that \n",
    "# create machine learning model on rest\n",
    "B10_SEC['Year'].unique()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "73bd5c6d",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Team</th>\n",
       "      <th>Games</th>\n",
       "      <th>Win</th>\n",
       "      <th>Loss</th>\n",
       "      <th>Off_Rank</th>\n",
       "      <th>Off_Plays</th>\n",
       "      <th>Off_Yards</th>\n",
       "      <th>Off_Yards_Play</th>\n",
       "      <th>Off_TDs</th>\n",
       "      <th>Total_TDs</th>\n",
       "      <th>...</th>\n",
       "      <th>___40</th>\n",
       "      <th>Kickoff_Return_Def_Rank</th>\n",
       "      <th>Opp_Kickoff_Returns</th>\n",
       "      <th>Kickoff_Touchbacks</th>\n",
       "      <th>Opponent_Kickoff_Return_Yards</th>\n",
       "      <th>Opp_Kickoff_Return_Touchdowns_Allowed</th>\n",
       "      <th>Avg_Yards_per_Kickoff_Return_Allowed</th>\n",
       "      <th>Conference</th>\n",
       "      <th>Conference Division</th>\n",
       "      <th>Ranking</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Indiana</td>\n",
       "      <td>13</td>\n",
       "      <td>6</td>\n",
       "      <td>7</td>\n",
       "      <td>56</td>\n",
       "      <td>990</td>\n",
       "      <td>5538</td>\n",
       "      <td>5.59</td>\n",
       "      <td>39</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>19.66</td>\n",
       "      <td>46.0</td>\n",
       "      <td>35.0</td>\n",
       "      <td>29.0</td>\n",
       "      <td>688.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>19.66</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Maryland</td>\n",
       "      <td>13</td>\n",
       "      <td>6</td>\n",
       "      <td>7</td>\n",
       "      <td>95</td>\n",
       "      <td>875</td>\n",
       "      <td>4911</td>\n",
       "      <td>5.61</td>\n",
       "      <td>41</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>18.31</td>\n",
       "      <td>21.0</td>\n",
       "      <td>52.0</td>\n",
       "      <td>9.0</td>\n",
       "      <td>952.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>18.31</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Michigan</td>\n",
       "      <td>13</td>\n",
       "      <td>10</td>\n",
       "      <td>3</td>\n",
       "      <td>58</td>\n",
       "      <td>944</td>\n",
       "      <td>5524</td>\n",
       "      <td>5.85</td>\n",
       "      <td>61</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>22.10</td>\n",
       "      <td>91.0</td>\n",
       "      <td>42.0</td>\n",
       "      <td>53.0</td>\n",
       "      <td>928.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>22.10</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Michigan St.</td>\n",
       "      <td>12</td>\n",
       "      <td>3</td>\n",
       "      <td>9</td>\n",
       "      <td>75</td>\n",
       "      <td>841</td>\n",
       "      <td>4740</td>\n",
       "      <td>5.64</td>\n",
       "      <td>33</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>21.87</td>\n",
       "      <td>87.0</td>\n",
       "      <td>31.0</td>\n",
       "      <td>23.0</td>\n",
       "      <td>678.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>21.87</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>6</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Ohio St.</td>\n",
       "      <td>13</td>\n",
       "      <td>11</td>\n",
       "      <td>2</td>\n",
       "      <td>31</td>\n",
       "      <td>992</td>\n",
       "      <td>5969</td>\n",
       "      <td>6.02</td>\n",
       "      <td>59</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>18.92</td>\n",
       "      <td>30.0</td>\n",
       "      <td>52.0</td>\n",
       "      <td>36.0</td>\n",
       "      <td>984.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>18.92</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows × 157 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "           Team  Games  Win  Loss  Off_Rank  Off_Plays  Off_Yards  \\\n",
       "0       Indiana     13    6     7        56        990       5538   \n",
       "1      Maryland     13    6     7        95        875       4911   \n",
       "2      Michigan     13   10     3        58        944       5524   \n",
       "3  Michigan St.     12    3     9        75        841       4740   \n",
       "4      Ohio St.     13   11     2        31        992       5969   \n",
       "\n",
       "   Off_Yards_Play  Off_TDs  Total_TDs  ...  ___40  Kickoff_Return_Def_Rank  \\\n",
       "0            5.59       39        NaN  ...  19.66                     46.0   \n",
       "1            5.61       41        NaN  ...  18.31                     21.0   \n",
       "2            5.85       61        NaN  ...  22.10                     91.0   \n",
       "3            5.64       33        NaN  ...  21.87                     87.0   \n",
       "4            6.02       59        NaN  ...  18.92                     30.0   \n",
       "\n",
       "   Opp_Kickoff_Returns  Kickoff_Touchbacks  Opponent_Kickoff_Return_Yards  \\\n",
       "0                 35.0                29.0                          688.0   \n",
       "1                 52.0                 9.0                          952.0   \n",
       "2                 42.0                53.0                          928.0   \n",
       "3                 31.0                23.0                          678.0   \n",
       "4                 52.0                36.0                          984.0   \n",
       "\n",
       "   Opp_Kickoff_Return_Touchdowns_Allowed  \\\n",
       "0                                    0.0   \n",
       "1                                    0.0   \n",
       "2                                    0.0   \n",
       "3                                    1.0   \n",
       "4                                    1.0   \n",
       "\n",
       "   Avg_Yards_per_Kickoff_Return_Allowed  Conference  Conference Division  \\\n",
       "0                                 19.66     Big Ten         Big Ten East   \n",
       "1                                 18.31     Big Ten         Big Ten East   \n",
       "2                                 22.10     Big Ten         Big Ten East   \n",
       "3                                 21.87     Big Ten         Big Ten East   \n",
       "4                                 18.92     Big Ten         Big Ten East   \n",
       "\n",
       "   Ranking  \n",
       "0        4  \n",
       "1        5  \n",
       "2        3  \n",
       "3        6  \n",
       "4        2  \n",
       "\n",
       "[5 rows x 157 columns]"
      ]
     },
     "execution_count": 3,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "B10_E = ['Big Ten East']\n",
    "B10_E = B10_SEC[B10_SEC['Conference Division'].isin(B10_E)] \n",
    "B10_E = B10_E.reset_index(drop = True)\n",
    "B10_E.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "4f0736ed",
   "metadata": {},
   "outputs": [],
   "source": [
    "np.random.seed(42)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "4159d6e0",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Team</th>\n",
       "      <th>Games</th>\n",
       "      <th>Win</th>\n",
       "      <th>Loss</th>\n",
       "      <th>Off_Rank</th>\n",
       "      <th>Off_Plays</th>\n",
       "      <th>Off_Yards</th>\n",
       "      <th>Off_Yards_Play</th>\n",
       "      <th>Off_TDs</th>\n",
       "      <th>Total_TDs</th>\n",
       "      <th>...</th>\n",
       "      <th>___40</th>\n",
       "      <th>Kickoff_Return_Def_Rank</th>\n",
       "      <th>Opp_Kickoff_Returns</th>\n",
       "      <th>Kickoff_Touchbacks</th>\n",
       "      <th>Opponent_Kickoff_Return_Yards</th>\n",
       "      <th>Opp_Kickoff_Return_Touchdowns_Allowed</th>\n",
       "      <th>Avg_Yards_per_Kickoff_Return_Allowed</th>\n",
       "      <th>Conference</th>\n",
       "      <th>Conference Division</th>\n",
       "      <th>Ranking</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>26</th>\n",
       "      <td>Penn St.</td>\n",
       "      <td>13</td>\n",
       "      <td>11</td>\n",
       "      <td>2</td>\n",
       "      <td>57</td>\n",
       "      <td>885</td>\n",
       "      <td>5355</td>\n",
       "      <td>6.05</td>\n",
       "      <td>59</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>17.07</td>\n",
       "      <td>7.0</td>\n",
       "      <td>14.0</td>\n",
       "      <td>66.0</td>\n",
       "      <td>239.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>17.07</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>15</th>\n",
       "      <td>Maryland</td>\n",
       "      <td>12</td>\n",
       "      <td>5</td>\n",
       "      <td>7</td>\n",
       "      <td>94</td>\n",
       "      <td>728</td>\n",
       "      <td>4457</td>\n",
       "      <td>6.12</td>\n",
       "      <td>38</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>20.68</td>\n",
       "      <td>67.0</td>\n",
       "      <td>47.0</td>\n",
       "      <td>9.0</td>\n",
       "      <td>972.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>20.68</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>6</th>\n",
       "      <td>Rutgers</td>\n",
       "      <td>12</td>\n",
       "      <td>2</td>\n",
       "      <td>10</td>\n",
       "      <td>128</td>\n",
       "      <td>821</td>\n",
       "      <td>3398</td>\n",
       "      <td>4.14</td>\n",
       "      <td>19</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>22.59</td>\n",
       "      <td>99.0</td>\n",
       "      <td>37.0</td>\n",
       "      <td>4.0</td>\n",
       "      <td>836.0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>22.59</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>7</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>25</th>\n",
       "      <td>Ohio St.</td>\n",
       "      <td>14</td>\n",
       "      <td>13</td>\n",
       "      <td>1</td>\n",
       "      <td>4</td>\n",
       "      <td>1069</td>\n",
       "      <td>7419</td>\n",
       "      <td>6.94</td>\n",
       "      <td>87</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>17.91</td>\n",
       "      <td>19.0</td>\n",
       "      <td>43.0</td>\n",
       "      <td>33.0</td>\n",
       "      <td>770.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>17.91</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Maryland</td>\n",
       "      <td>13</td>\n",
       "      <td>6</td>\n",
       "      <td>7</td>\n",
       "      <td>95</td>\n",
       "      <td>875</td>\n",
       "      <td>4911</td>\n",
       "      <td>5.61</td>\n",
       "      <td>41</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>18.31</td>\n",
       "      <td>21.0</td>\n",
       "      <td>52.0</td>\n",
       "      <td>9.0</td>\n",
       "      <td>952.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>18.31</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>18</th>\n",
       "      <td>Ohio St.</td>\n",
       "      <td>14</td>\n",
       "      <td>13</td>\n",
       "      <td>1</td>\n",
       "      <td>2</td>\n",
       "      <td>1131</td>\n",
       "      <td>7498</td>\n",
       "      <td>6.63</td>\n",
       "      <td>74</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>14.91</td>\n",
       "      <td>2.0</td>\n",
       "      <td>33.0</td>\n",
       "      <td>33.0</td>\n",
       "      <td>492.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>14.91</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>16</th>\n",
       "      <td>Michigan</td>\n",
       "      <td>13</td>\n",
       "      <td>10</td>\n",
       "      <td>3</td>\n",
       "      <td>49</td>\n",
       "      <td>896</td>\n",
       "      <td>5453</td>\n",
       "      <td>6.09</td>\n",
       "      <td>50</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>18.07</td>\n",
       "      <td>19.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>43.0</td>\n",
       "      <td>506.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>18.07</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>21</th>\n",
       "      <td>Indiana</td>\n",
       "      <td>13</td>\n",
       "      <td>8</td>\n",
       "      <td>5</td>\n",
       "      <td>41</td>\n",
       "      <td>940</td>\n",
       "      <td>5626</td>\n",
       "      <td>5.99</td>\n",
       "      <td>48</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>20.00</td>\n",
       "      <td>50.0</td>\n",
       "      <td>27.0</td>\n",
       "      <td>43.0</td>\n",
       "      <td>540.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>20.00</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>10</th>\n",
       "      <td>Michigan St.</td>\n",
       "      <td>13</td>\n",
       "      <td>10</td>\n",
       "      <td>3</td>\n",
       "      <td>91</td>\n",
       "      <td>971</td>\n",
       "      <td>4980</td>\n",
       "      <td>5.13</td>\n",
       "      <td>38</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>20.89</td>\n",
       "      <td>71.0</td>\n",
       "      <td>47.0</td>\n",
       "      <td>14.0</td>\n",
       "      <td>982.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>20.89</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Michigan</td>\n",
       "      <td>13</td>\n",
       "      <td>10</td>\n",
       "      <td>3</td>\n",
       "      <td>58</td>\n",
       "      <td>944</td>\n",
       "      <td>5524</td>\n",
       "      <td>5.85</td>\n",
       "      <td>61</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>22.10</td>\n",
       "      <td>91.0</td>\n",
       "      <td>42.0</td>\n",
       "      <td>53.0</td>\n",
       "      <td>928.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>22.10</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>9</th>\n",
       "      <td>Michigan</td>\n",
       "      <td>13</td>\n",
       "      <td>8</td>\n",
       "      <td>5</td>\n",
       "      <td>105</td>\n",
       "      <td>875</td>\n",
       "      <td>4536</td>\n",
       "      <td>5.18</td>\n",
       "      <td>35</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>15.00</td>\n",
       "      <td>1.0</td>\n",
       "      <td>37.0</td>\n",
       "      <td>32.0</td>\n",
       "      <td>555.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>15.00</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>17</th>\n",
       "      <td>Michigan St.</td>\n",
       "      <td>13</td>\n",
       "      <td>7</td>\n",
       "      <td>6</td>\n",
       "      <td>116</td>\n",
       "      <td>962</td>\n",
       "      <td>4447</td>\n",
       "      <td>4.62</td>\n",
       "      <td>26</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>17.93</td>\n",
       "      <td>17.0</td>\n",
       "      <td>29.0</td>\n",
       "      <td>24.0</td>\n",
       "      <td>520.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>17.93</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>4</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>13</th>\n",
       "      <td>Rutgers</td>\n",
       "      <td>12</td>\n",
       "      <td>4</td>\n",
       "      <td>8</td>\n",
       "      <td>128</td>\n",
       "      <td>711</td>\n",
       "      <td>3152</td>\n",
       "      <td>4.43</td>\n",
       "      <td>26</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>18.03</td>\n",
       "      <td>18.0</td>\n",
       "      <td>30.0</td>\n",
       "      <td>14.0</td>\n",
       "      <td>541.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>18.03</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>8</th>\n",
       "      <td>Maryland</td>\n",
       "      <td>12</td>\n",
       "      <td>4</td>\n",
       "      <td>8</td>\n",
       "      <td>119</td>\n",
       "      <td>754</td>\n",
       "      <td>3880</td>\n",
       "      <td>5.15</td>\n",
       "      <td>34</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>19.41</td>\n",
       "      <td>37.0</td>\n",
       "      <td>49.0</td>\n",
       "      <td>5.0</td>\n",
       "      <td>951.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>19.41</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>7</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>Michigan St.</td>\n",
       "      <td>12</td>\n",
       "      <td>3</td>\n",
       "      <td>9</td>\n",
       "      <td>75</td>\n",
       "      <td>841</td>\n",
       "      <td>4740</td>\n",
       "      <td>5.64</td>\n",
       "      <td>33</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>21.87</td>\n",
       "      <td>87.0</td>\n",
       "      <td>31.0</td>\n",
       "      <td>23.0</td>\n",
       "      <td>678.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>21.87</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>6</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Ohio St.</td>\n",
       "      <td>13</td>\n",
       "      <td>11</td>\n",
       "      <td>2</td>\n",
       "      <td>31</td>\n",
       "      <td>992</td>\n",
       "      <td>5969</td>\n",
       "      <td>6.02</td>\n",
       "      <td>59</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>18.92</td>\n",
       "      <td>30.0</td>\n",
       "      <td>52.0</td>\n",
       "      <td>36.0</td>\n",
       "      <td>984.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>18.92</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>19</th>\n",
       "      <td>Penn St.</td>\n",
       "      <td>13</td>\n",
       "      <td>9</td>\n",
       "      <td>4</td>\n",
       "      <td>45</td>\n",
       "      <td>900</td>\n",
       "      <td>5499</td>\n",
       "      <td>6.11</td>\n",
       "      <td>55</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>21.33</td>\n",
       "      <td>84.0</td>\n",
       "      <td>30.0</td>\n",
       "      <td>37.0</td>\n",
       "      <td>640.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>21.33</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>14</th>\n",
       "      <td>Indiana</td>\n",
       "      <td>12</td>\n",
       "      <td>5</td>\n",
       "      <td>7</td>\n",
       "      <td>51</td>\n",
       "      <td>909</td>\n",
       "      <td>4982</td>\n",
       "      <td>5.48</td>\n",
       "      <td>37</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>24.44</td>\n",
       "      <td>118.0</td>\n",
       "      <td>32.0</td>\n",
       "      <td>23.0</td>\n",
       "      <td>782.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>24.44</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>6</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>7</th>\n",
       "      <td>Indiana</td>\n",
       "      <td>12</td>\n",
       "      <td>5</td>\n",
       "      <td>7</td>\n",
       "      <td>70</td>\n",
       "      <td>951</td>\n",
       "      <td>4749</td>\n",
       "      <td>4.99</td>\n",
       "      <td>36</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>24.88</td>\n",
       "      <td>119.0</td>\n",
       "      <td>26.0</td>\n",
       "      <td>32.0</td>\n",
       "      <td>647.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>24.88</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>6</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>5</th>\n",
       "      <td>Penn St.</td>\n",
       "      <td>14</td>\n",
       "      <td>11</td>\n",
       "      <td>3</td>\n",
       "      <td>49</td>\n",
       "      <td>931</td>\n",
       "      <td>6056</td>\n",
       "      <td>6.50</td>\n",
       "      <td>63</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>18.82</td>\n",
       "      <td>28.0</td>\n",
       "      <td>50.0</td>\n",
       "      <td>46.0</td>\n",
       "      <td>941.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>18.82</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>27</th>\n",
       "      <td>Rutgers</td>\n",
       "      <td>12</td>\n",
       "      <td>2</td>\n",
       "      <td>10</td>\n",
       "      <td>129</td>\n",
       "      <td>735</td>\n",
       "      <td>3277</td>\n",
       "      <td>4.46</td>\n",
       "      <td>18</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>23.04</td>\n",
       "      <td>102.0</td>\n",
       "      <td>26.0</td>\n",
       "      <td>10.0</td>\n",
       "      <td>599.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>23.04</td>\n",
       "      <td>Big Ten</td>\n",
       "      <td>Big Ten East</td>\n",
       "      <td>7</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>21 rows × 157 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "            Team  Games  Win  Loss  Off_Rank  Off_Plays  Off_Yards  \\\n",
       "26      Penn St.     13   11     2        57        885       5355   \n",
       "15      Maryland     12    5     7        94        728       4457   \n",
       "6        Rutgers     12    2    10       128        821       3398   \n",
       "25      Ohio St.     14   13     1         4       1069       7419   \n",
       "1       Maryland     13    6     7        95        875       4911   \n",
       "18      Ohio St.     14   13     1         2       1131       7498   \n",
       "16      Michigan     13   10     3        49        896       5453   \n",
       "21       Indiana     13    8     5        41        940       5626   \n",
       "10  Michigan St.     13   10     3        91        971       4980   \n",
       "2       Michigan     13   10     3        58        944       5524   \n",
       "9       Michigan     13    8     5       105        875       4536   \n",
       "17  Michigan St.     13    7     6       116        962       4447   \n",
       "13       Rutgers     12    4     8       128        711       3152   \n",
       "8       Maryland     12    4     8       119        754       3880   \n",
       "3   Michigan St.     12    3     9        75        841       4740   \n",
       "4       Ohio St.     13   11     2        31        992       5969   \n",
       "19      Penn St.     13    9     4        45        900       5499   \n",
       "14       Indiana     12    5     7        51        909       4982   \n",
       "7        Indiana     12    5     7        70        951       4749   \n",
       "5       Penn St.     14   11     3        49        931       6056   \n",
       "27       Rutgers     12    2    10       129        735       3277   \n",
       "\n",
       "    Off_Yards_Play  Off_TDs  Total_TDs  ...  ___40  Kickoff_Return_Def_Rank  \\\n",
       "26            6.05       59        NaN  ...  17.07                      7.0   \n",
       "15            6.12       38        NaN  ...  20.68                     67.0   \n",
       "6             4.14       19        NaN  ...  22.59                     99.0   \n",
       "25            6.94       87        NaN  ...  17.91                     19.0   \n",
       "1             5.61       41        NaN  ...  18.31                     21.0   \n",
       "18            6.63       74        NaN  ...  14.91                      2.0   \n",
       "16            6.09       50        NaN  ...  18.07                     19.0   \n",
       "21            5.99       48        NaN  ...  20.00                     50.0   \n",
       "10            5.13       38        NaN  ...  20.89                     71.0   \n",
       "2             5.85       61        NaN  ...  22.10                     91.0   \n",
       "9             5.18       35        NaN  ...  15.00                      1.0   \n",
       "17            4.62       26        NaN  ...  17.93                     17.0   \n",
       "13            4.43       26        NaN  ...  18.03                     18.0   \n",
       "8             5.15       34        NaN  ...  19.41                     37.0   \n",
       "3             5.64       33        NaN  ...  21.87                     87.0   \n",
       "4             6.02       59        NaN  ...  18.92                     30.0   \n",
       "19            6.11       55        NaN  ...  21.33                     84.0   \n",
       "14            5.48       37        NaN  ...  24.44                    118.0   \n",
       "7             4.99       36        NaN  ...  24.88                    119.0   \n",
       "5             6.50       63        NaN  ...  18.82                     28.0   \n",
       "27            4.46       18        NaN  ...  23.04                    102.0   \n",
       "\n",
       "    Opp_Kickoff_Returns  Kickoff_Touchbacks  Opponent_Kickoff_Return_Yards  \\\n",
       "26                 14.0                66.0                          239.0   \n",
       "15                 47.0                 9.0                          972.0   \n",
       "6                  37.0                 4.0                          836.0   \n",
       "25                 43.0                33.0                          770.0   \n",
       "1                  52.0                 9.0                          952.0   \n",
       "18                 33.0                33.0                          492.0   \n",
       "16                 28.0                43.0                          506.0   \n",
       "21                 27.0                43.0                          540.0   \n",
       "10                 47.0                14.0                          982.0   \n",
       "2                  42.0                53.0                          928.0   \n",
       "9                  37.0                32.0                          555.0   \n",
       "17                 29.0                24.0                          520.0   \n",
       "13                 30.0                14.0                          541.0   \n",
       "8                  49.0                 5.0                          951.0   \n",
       "3                  31.0                23.0                          678.0   \n",
       "4                  52.0                36.0                          984.0   \n",
       "19                 30.0                37.0                          640.0   \n",
       "14                 32.0                23.0                          782.0   \n",
       "7                  26.0                32.0                          647.0   \n",
       "5                  50.0                46.0                          941.0   \n",
       "27                 26.0                10.0                          599.0   \n",
       "\n",
       "    Opp_Kickoff_Return_Touchdowns_Allowed  \\\n",
       "26                                    0.0   \n",
       "15                                    0.0   \n",
       "6                                     2.0   \n",
       "25                                    0.0   \n",
       "1                                     0.0   \n",
       "18                                    0.0   \n",
       "16                                    1.0   \n",
       "21                                    0.0   \n",
       "10                                    1.0   \n",
       "2                                     0.0   \n",
       "9                                     0.0   \n",
       "17                                    0.0   \n",
       "13                                    0.0   \n",
       "8                                     0.0   \n",
       "3                                     1.0   \n",
       "4                                     1.0   \n",
       "19                                    1.0   \n",
       "14                                    0.0   \n",
       "7                                     1.0   \n",
       "5                                     0.0   \n",
       "27                                    1.0   \n",
       "\n",
       "    Avg_Yards_per_Kickoff_Return_Allowed  Conference  Conference Division  \\\n",
       "26                                 17.07     Big Ten         Big Ten East   \n",
       "15                                 20.68     Big Ten         Big Ten East   \n",
       "6                                  22.59     Big Ten         Big Ten East   \n",
       "25                                 17.91     Big Ten         Big Ten East   \n",
       "1                                  18.31     Big Ten         Big Ten East   \n",
       "18                                 14.91     Big Ten         Big Ten East   \n",
       "16                                 18.07     Big Ten         Big Ten East   \n",
       "21                                 20.00     Big Ten         Big Ten East   \n",
       "10                                 20.89     Big Ten         Big Ten East   \n",
       "2                                  22.10     Big Ten         Big Ten East   \n",
       "9                                  15.00     Big Ten         Big Ten East   \n",
       "17                                 17.93     Big Ten         Big Ten East   \n",
       "13                                 18.03     Big Ten         Big Ten East   \n",
       "8                                  19.41     Big Ten         Big Ten East   \n",
       "3                                  21.87     Big Ten         Big Ten East   \n",
       "4                                  18.92     Big Ten         Big Ten East   \n",
       "19                                 21.33     Big Ten         Big Ten East   \n",
       "14                                 24.44     Big Ten         Big Ten East   \n",
       "7                                  24.88     Big Ten         Big Ten East   \n",
       "5                                  18.82     Big Ten         Big Ten East   \n",
       "27                                 23.04     Big Ten         Big Ten East   \n",
       "\n",
       "    Ranking  \n",
       "26        2  \n",
       "15        5  \n",
       "6         7  \n",
       "25        1  \n",
       "1         5  \n",
       "18        1  \n",
       "16        2  \n",
       "21        4  \n",
       "10        2  \n",
       "2         3  \n",
       "9         4  \n",
       "17        4  \n",
       "13        5  \n",
       "8         7  \n",
       "3         6  \n",
       "4         2  \n",
       "19        3  \n",
       "14        6  \n",
       "7         6  \n",
       "5         1  \n",
       "27        7  \n",
       "\n",
       "[21 rows x 157 columns]"
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "from sklearn.model_selection import train_test_split\n",
    "from sklearn.model_selection import StratifiedShuffleSplit\n",
    "\n",
    "# used stratified split to make sure all teams were in both\n",
    "split = StratifiedShuffleSplit(n_splits=7, test_size=0.25, random_state=42)\n",
    "for train_index, test_index in split.split(B10_E, B10_E[\"Team\"]):\n",
    "    strat_train_set = B10_E.loc[train_index]\n",
    "    strat_test_set = B10_E.loc[test_index]\n",
    "strat_train_set"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "33189d03",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "20"
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "y = pd.DataFrame(strat_train_set.Ranking)\n",
    "# 'Ranking', took out ranking \n",
    "high_corr = [ \n",
    " 'Win',\n",
    " 'Loss',\n",
    " 'Total_Points',\n",
    " 'Touchdowns',\n",
    " 'Off_TDs',\n",
    " 'PAT',\n",
    " 'Pass_Yards_Attempt',\n",
    " 'Opp_Pass_Attempts',\n",
    " 'Scoring_Off_Rank',\n",
    " 'Redzone_Scores',\n",
    " 'Rushing_Def_Rank',\n",
    " 'Rush_Attempts',\n",
    " 'Opp_First_Down_Passes',\n",
    " 'First_Down_Passes',\n",
    " 'Yards_Completion',\n",
    " 'Off_Plays',\n",
    " 'Redzone_Attempts',\n",
    " 'Avg_Points_per_Game_Allowed',\n",
    " 'X3rd_Down_Def_Rank',\n",
    " 'Off_Yards']\n",
    "\n",
    "X = strat_train_set[high_corr]\n",
    "numeric_attribs = list(X.select_dtypes(include=[np.number]))\n",
    "len(numeric_attribs)\n",
    "len(high_corr)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "id": "2ce0df7f",
   "metadata": {},
   "outputs": [],
   "source": [
    "import statsmodels.api as sm\n",
    "import statsmodels.formula.api as smf\n",
    "from sklearn.linear_model import LinearRegression\n",
    "from sklearn.compose import ColumnTransformer\n",
    "from sklearn.preprocessing import StandardScaler\n",
    "from sklearn.preprocessing import OneHotEncoder\n",
    "from sklearn.linear_model import LogisticRegression"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "15022d03",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "ColumnTransformer(transformers=[('num_xform', StandardScaler(),\n",
       "                                 ['Win', 'Loss', 'Total_Points', 'Touchdowns',\n",
       "                                  'Off_TDs', 'PAT', 'Pass_Yards_Attempt',\n",
       "                                  'Opp_Pass_Attempts', 'Scoring_Off_Rank',\n",
       "                                  'Redzone_Scores', 'Rushing_Def_Rank',\n",
       "                                  'Rush_Attempts', 'Opp_First_Down_Passes',\n",
       "                                  'First_Down_Passes', 'Yards_Completion',\n",
       "                                  'Off_Plays', 'Redzone_Attempts',\n",
       "                                  'Avg_Points_per_Game_Allowed',\n",
       "                                  'X3rd_Down_Def_Rank', 'Off_Yards'])])"
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "full_pipeline = ColumnTransformer([\n",
    "        (\"num_xform\", StandardScaler(), numeric_attribs),\n",
    "    ])\n",
    "full_pipeline"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "id": "8563c1b3",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([[ 1.03116486e+00, -1.16764809e+00,  6.63170014e-01,\n",
       "         7.36781502e-01,  8.20004535e-01,  6.48352800e-01,\n",
       "         6.18769140e-01,  1.21570435e+00, -1.15075503e+00,\n",
       "         4.13199035e-01, -1.26101567e+00,  1.02582125e-01,\n",
       "         1.17955948e+00,  1.17955948e+00,  8.22810619e-01,\n",
       "        -1.07101943e-01,  2.20232014e-01, -1.15245078e+00,\n",
       "        -1.52624070e-01,  2.77462225e-01],\n",
       "       [-7.24602335e-01,  6.09207699e-01, -2.71346160e-01,\n",
       "        -2.05981925e-01, -3.77419306e-01, -2.48135022e-01,\n",
       "        -1.73082277e-02, -8.35469705e-01,  5.18650154e-02,\n",
       "        -8.88377925e-01,  8.72424740e-01, -3.93231479e-01,\n",
       "        -4.66049723e-01, -4.66049723e-01,  1.02514110e+00,\n",
       "        -1.60335239e+00, -1.20803737e+00,  6.00878502e-01,\n",
       "         7.36186692e-01, -5.21740867e-01],\n",
       "       [-1.60248593e+00,  1.67532117e+00, -1.44139080e+00,\n",
       "        -1.37057204e+00, -1.46080278e+00, -1.36874480e+00,\n",
       "        -1.69423947e+00, -1.64128809e+00,  1.39063073e+00,\n",
       "        -1.75609590e+00,  1.96581295e+00, -3.59037437e-01,\n",
       "        -1.11563230e+00, -1.11563230e+00, -1.08584024e+00,\n",
       "        -7.17038431e-01, -1.61611433e+00,  1.81578383e+00,\n",
       "         8.70854989e-01, -1.46423093e+00],\n",
       "       [ 1.61642059e+00, -1.52301925e+00,  2.11432928e+00,\n",
       "         2.23411165e+00,  2.41656966e+00,  2.38529796e+00,\n",
       "         1.66788376e+00,  1.53489215e-01, -1.42304636e+00,\n",
       "         1.85939566e+00, -1.15434365e+00,  2.61584418e+00,\n",
       "        -1.02902129e+00, -1.02902129e+00,  1.04537415e+00,\n",
       "         1.64646546e+00,  1.78452705e+00, -1.46998286e+00,\n",
       "        -1.04143483e+00,  2.11438336e+00],\n",
       "       [-4.31974469e-01,  6.09207699e-01, -3.24530007e-01,\n",
       "        -2.05981925e-01, -2.06358757e-01, -4.16226489e-01,\n",
       "        -2.32087599e-01,  1.71803269e-01,  5.05683900e-01,\n",
       "        -6.71448432e-01,  1.24577681e+00,  3.93231479e-01,\n",
       "         7.03198918e-01,  7.03198918e-01, -1.48375685e-01,\n",
       "        -2.02404519e-01, -7.31947575e-01,  7.11324441e-01,\n",
       "        -1.79557730e-02, -1.17689415e-01],\n",
       "       [ 1.61642059e+00, -1.52301925e+00,  1.63567465e+00,\n",
       "         1.73500160e+00,  1.67530728e+00,  1.76896258e+00,\n",
       "         1.68440525e+00,  1.91163841e+00, -1.30959164e+00,\n",
       "         9.19367853e-01,  9.90525905e-02,  1.02582125e+00,\n",
       "         1.39608700e+00,  1.39608700e+00,  5.66525344e-01,\n",
       "         2.23734143e+00,  1.44446291e+00,  1.59094745e-01,\n",
       "        -7.45164578e-01,  2.18469188e+00],\n",
       "       [ 7.38536995e-01, -8.12276932e-01,  6.02388475e-01,\n",
       "         4.59498141e-01,  3.06822889e-01,  3.12169867e-01,\n",
       "         8.50070002e-01, -9.81982138e-01, -1.01460936e+00,\n",
       "         6.30128528e-01, -7.80991579e-01,  6.66783812e-01,\n",
       "        -1.33215983e+00, -1.33215983e+00,  3.57450515e-01,\n",
       "        -2.26910896e-03,  5.60296152e-01, -6.83055540e-01,\n",
       "        -5.83562621e-01,  3.64680380e-01],\n",
       "       [ 1.53281263e-01, -1.01534617e-01,  2.68090006e-01,\n",
       "         1.82214780e-01,  1.92782523e-01,  8.80479111e-02,\n",
       "         1.04006714e+00,  1.71803269e-01, -5.15408591e-01,\n",
       "         8.47058021e-01, -2.47631476e-01, -7.35171895e-01,\n",
       "         1.83532855e-01,  1.83532855e-01,  1.41631336e-01,\n",
       "         4.17062227e-01,  9.00360291e-01,  7.23157934e-03,\n",
       "        -2.33425049e-01,  5.18647123e-01],\n",
       "       [ 7.38536995e-01, -8.12276932e-01, -4.46093087e-01,\n",
       "        -4.83265286e-01, -3.77419306e-01, -3.60196000e-01,\n",
       "        -3.72520264e-01,  7.57853000e-01,  6.87211454e-01,\n",
       "         5.16498794e-02, -1.34101969e+00,  6.32589770e-01,\n",
       "         4.00060381e-01,  4.00060381e-01, -4.78848803e-01,\n",
       "         7.12500213e-01,  1.52219186e-01, -6.00221085e-01,\n",
       "        -6.64363600e-01, -5.62807141e-02],\n",
       "       [ 7.38536995e-01, -8.12276932e-01,  1.11143387e+00,\n",
       "         1.01406486e+00,  9.34044901e-01,  1.04056622e+00,\n",
       "         3.29643064e-01, -1.03692430e+00, -1.24151881e+00,\n",
       "         1.49784650e+00, -9.94335620e-01,  1.09420933e+00,\n",
       "        -1.80852038e+00, -1.80852038e+00,  3.37217467e-02,\n",
       "         4.55183257e-01,  1.30843726e+00, -1.41475989e+00,\n",
       "        -1.12223581e+00,  4.27869044e-01],\n",
       "       [ 1.53281263e-01, -1.01534617e-01, -3.77713854e-01,\n",
       "        -4.83265286e-01, -5.48479855e-01, -5.28287467e-01,\n",
       "        -5.12952930e-01, -1.03692430e+00,  5.73756733e-01,\n",
       "        -3.09899276e-01, -9.14331605e-01,  3.24843395e-01,\n",
       "        -1.63529836e+00, -1.63529836e+00, -6.74434934e-03,\n",
       "        -2.02404519e-01, -3.23870608e-01, -7.65889994e-01,\n",
       "        -1.12223581e+00, -4.51432355e-01],\n",
       "       [-1.39346603e-01,  2.53836541e-01, -1.02351771e+00,\n",
       "        -1.14874535e+00, -1.06166150e+00, -1.08859236e+00,\n",
       "        -1.13250881e+00,  1.69186976e+00,  1.34524884e+00,\n",
       "        -5.26828769e-01, -1.36768769e+00, -7.69365936e-01,\n",
       "         1.13625397e+00,  1.13625397e+00, -6.54201886e-01,\n",
       "         6.26727895e-01, -5.27909091e-01, -9.86781872e-01,\n",
       "        -9.33700194e-01, -5.30640679e-01],\n",
       "       [-1.01723020e+00,  9.64578857e-01, -1.22865541e+00,\n",
       "        -1.09328868e+00, -1.06166150e+00, -9.76531378e-01,\n",
       "        -1.66119649e+00, -4.32560516e-01,  1.23179412e+00,\n",
       "        -1.24992708e+00,  8.19088729e-01, -1.26517954e+00,\n",
       "         7.46504423e-01,  7.46504423e-01, -1.19374983e+00,\n",
       "        -1.76536677e+00, -1.27605020e+00,  5.45655532e-01,\n",
       "         6.01518394e-01, -1.68316630e+00],\n",
       "       [-1.01723020e+00,  9.64578857e-01, -6.74023861e-01,\n",
       "        -5.38721958e-01, -6.05500037e-01, -4.16226489e-01,\n",
       "        -7.85557516e-01,  3.91571918e-01,  7.77975231e-01,\n",
       "        -9.60687756e-01,  1.05910078e+00, -1.26517954e+00,\n",
       "         9.63031949e-01,  9.63031949e-01, -6.40713187e-01,\n",
       "        -1.35556569e+00, -7.99960402e-01,  1.76056086e+00,\n",
       "         2.24447162e+00, -1.03526000e+00],\n",
       "       [-1.30985807e+00,  1.31995001e+00, -6.74023861e-01,\n",
       "        -7.05091975e-01, -6.62520220e-01, -8.08439911e-01,\n",
       "         1.31385183e-01, -9.63668084e-01,  8.68739008e-01,\n",
       "        -5.26828769e-01, -3.42874352e-02, -6.66783812e-01,\n",
       "        -2.06216691e-01, -2.06216691e-01,  4.04660960e-01,\n",
       "        -5.26433279e-01, -4.59896264e-01,  4.76626820e-01,\n",
       "         1.27485988e+00, -2.69876195e-01],\n",
       "       [ 1.03116486e+00, -1.16764809e+00,  1.02026156e+00,\n",
       "         1.01406486e+00,  8.20004535e-01,  1.04056622e+00,\n",
       "        -2.07305364e-01,  3.00001648e-01, -1.19613692e+00,\n",
       "         9.19367853e-01, -8.87663600e-01,  1.24808252e+00,\n",
       "        -3.79438712e-01, -3.79438712e-01, -7.62111475e-01,\n",
       "         9.12635624e-01,  9.00360291e-01, -1.22147949e+00,\n",
       "        -8.52899216e-01,  8.23910665e-01],\n",
       "       [ 4.45909129e-01, -4.56905774e-01,  4.65630010e-01,\n",
       "         4.59498141e-01,  5.91923803e-01,  4.80261333e-01,\n",
       "         3.54425299e-01,  5.74712459e-01, -7.65008978e-01,\n",
       "         7.74748190e-01,  5.25740673e-01,  1.88067229e-01,\n",
       "         5.36163398e-02,  5.36163398e-02,  1.20723853e+00,\n",
       "         3.58519216e-02,  6.28308980e-01, -5.31192373e-01,\n",
       "        -6.37429940e-01,  4.05619514e-01],\n",
       "       [-7.24602335e-01,  6.09207699e-01, -4.61288471e-01,\n",
       "        -4.83265286e-01, -4.34439489e-01, -6.96378933e-01,\n",
       "        -5.12952930e-01, -2.86048083e-01,  4.82992956e-01,\n",
       "        -3.82209107e-01,  8.19088729e-01, -1.40195571e+00,\n",
       "         7.03198918e-01,  7.03198918e-01, -1.51747860e+00,\n",
       "         1.21624240e-01, -3.23870608e-01,  7.66547410e-01,\n",
       "         1.40952818e+00, -5.45007518e-02],\n",
       "       [-7.24602335e-01,  6.09207699e-01, -4.23300009e-01,\n",
       "        -4.83265286e-01, -4.91459672e-01, -3.60196000e-01,\n",
       "        -5.79038890e-01, -9.63668084e-01,  2.78774458e-01,\n",
       "        -2.37589445e-01,  2.32392616e-01, -1.04291827e+00,\n",
       "        -1.24554882e+00, -1.24554882e+00, -1.09258459e+00,\n",
       "         5.21895061e-01, -3.23870608e-01,  1.31483261e-01,\n",
       "        -9.33700194e-01, -2.61866365e-01],\n",
       "       [ 1.03116486e+00, -8.12276932e-01,  1.12662926e+00,\n",
       "         1.01406486e+00,  1.04808527e+00,  9.84535733e-01,\n",
       "         1.89092388e+00,  1.60029949e+00, -1.01460936e+00,\n",
       "         1.20860718e+00, -1.14291451e-01,  5.12910624e-01,\n",
       "         1.17955948e+00,  1.17955948e+00,  2.77192758e+00,\n",
       "         3.31289908e-01,  1.24042443e+00,  1.45289003e-01,\n",
       "         2.51380822e-01,  9.01339027e-01],\n",
       "       [-1.60248593e+00,  1.67532117e+00, -1.66172388e+00,\n",
       "        -1.64785540e+00, -1.51782296e+00, -1.48080578e+00,\n",
       "        -8.59904222e-01, -7.62213489e-01,  1.43601261e+00,\n",
       "        -1.61147624e+00,  1.45912085e+00, -9.06142103e-01,\n",
       "         5.73282402e-01,  5.73282402e-01, -7.95833222e-01,\n",
       "        -1.53664059e+00, -1.54810151e+00,  1.70533789e+00,\n",
       "         1.65193111e+00, -1.57191865e+00]])"
      ]
     },
     "execution_count": 9,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "B10_E_prepared = full_pipeline.fit_transform(strat_train_set)\n",
    "B10_E_prepared"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "id": "c44549e0",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "LinearRegression()"
      ]
     },
     "execution_count": 15,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "lm= LinearRegression()\n",
    "lm.fit(B10_E_prepared, y)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 31,
   "id": "96bbff8b",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.21743154351621927"
      ]
     },
     "execution_count": 31,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "from sklearn.metrics import mean_squared_error\n",
    "B10_E_predictions = lm.predict(B10_E_prepared)\n",
    "lin_mse = mean_squared_error(y, B10_E_predictions)\n",
    "lin_rmse = np.sqrt(lin_mse)\n",
    "lin_rmse\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "id": "916ad8c5",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "0.9772423865796088"
      ]
     },
     "execution_count": 30,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "test_y = pd.DataFrame(strat_test_set.Ranking)\n",
    "test_X = strat_test_set[high_corr]\n",
    "# test_numeric_attribs = list(test_X.select_dtypes(include=[np.number]))\n",
    "# test_numeric_attribs\n",
    "test_prepared = full_pipeline.fit_transform(strat_test_set)\n",
    "test_prepared\n",
    "test_predictions = lm.predict(test_prepared)\n",
    "lin_mse = mean_squared_error(test_y, test_predictions)\n",
    "lin_rmse = np.sqrt(lin_mse)\n",
    "lin_rmse\n",
    "# this percentage (rmse) tells us how wrong the model will be "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "id": "8aec498a",
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "/Users/claremcauliffe/opt/anaconda3/lib/python3.8/site-packages/sklearn/utils/validation.py:63: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().\n",
      "  return f(*args, **kwargs)\n"
     ]
    },
    {
     "data": {
      "text/plain": [
       "100.0"
      ]
     },
     "execution_count": 34,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "logreg = LogisticRegression()\n",
    "logreg.fit(B10_E_prepared, y)\n",
    "\n",
    "Y_pred = logreg.predict(test_prepared)\n",
    "\n",
    "acc_log = round(logreg.score(B10_E_prepared, y) * 100, 2)\n",
    "acc_log"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "id": "8c9627cd",
   "metadata": {},
   "outputs": [],
   "source": [
    "from sklearn.tree import DecisionTreeClassifier"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 33,
   "id": "41b875ad",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "100.0"
      ]
     },
     "execution_count": 33,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "dec_tree = DecisionTreeClassifier(max_depth=5)\n",
    "dec_tree.fit(B10_E_prepared, y)\n",
    "\n",
    "Y_prediction = dec_tree.predict(test_prepared)\n",
    "\n",
    "dec_tree.score(B10_E_prepared, y)\n",
    "acc_dec_tree = round(dec_tree.score(B10_E_prepared, y) * 100, 2)\n",
    "acc_dec_tree"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "id": "fb4e7f6b",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Team</th>\n",
       "      <th>Games</th>\n",
       "      <th>Win</th>\n",
       "      <th>Loss</th>\n",
       "      <th>Off.Rank</th>\n",
       "      <th>Off.Plays</th>\n",
       "      <th>Off.Yards</th>\n",
       "      <th>Off.Yards.Play</th>\n",
       "      <th>Off.TDs</th>\n",
       "      <th>Total.TDs</th>\n",
       "      <th>...</th>\n",
       "      <th>Avg.Turnover.Margin.per.Game</th>\n",
       "      <th>Year</th>\n",
       "      <th>...40</th>\n",
       "      <th>Kickoff.Return.Def.Rank</th>\n",
       "      <th>Opp.Kickoff.Returns</th>\n",
       "      <th>Kickoff.Touchbacks</th>\n",
       "      <th>Opponent.Kickoff.Return.Yards</th>\n",
       "      <th>Opp.Kickoff.Return.Touchdowns.Allowed</th>\n",
       "      <th>Avg.Yards.per.Kickoff.Return.Allowed</th>\n",
       "      <th>Conference</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>Air Force</td>\n",
       "      <td>6</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>73</td>\n",
       "      <td>373</td>\n",
       "      <td>2336</td>\n",
       "      <td>6.26</td>\n",
       "      <td>19</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>0.00</td>\n",
       "      <td>2020</td>\n",
       "      <td>23.14</td>\n",
       "      <td>96.0</td>\n",
       "      <td>14.0</td>\n",
       "      <td>9.0</td>\n",
       "      <td>324.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>23.14</td>\n",
       "      <td>MWC</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>Akron</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>5</td>\n",
       "      <td>121</td>\n",
       "      <td>360</td>\n",
       "      <td>1687</td>\n",
       "      <td>4.69</td>\n",
       "      <td>12</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.50</td>\n",
       "      <td>2020</td>\n",
       "      <td>21.25</td>\n",
       "      <td>67.0</td>\n",
       "      <td>16.0</td>\n",
       "      <td>6.0</td>\n",
       "      <td>340.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>21.25</td>\n",
       "      <td>MAC</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>Alabama</td>\n",
       "      <td>11</td>\n",
       "      <td>11</td>\n",
       "      <td>0</td>\n",
       "      <td>5</td>\n",
       "      <td>764</td>\n",
       "      <td>5983</td>\n",
       "      <td>7.83</td>\n",
       "      <td>68</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>0.91</td>\n",
       "      <td>2020</td>\n",
       "      <td>18.48</td>\n",
       "      <td>34.0</td>\n",
       "      <td>33.0</td>\n",
       "      <td>17.0</td>\n",
       "      <td>610.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>18.48</td>\n",
       "      <td>SEC</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>App State</td>\n",
       "      <td>12</td>\n",
       "      <td>9</td>\n",
       "      <td>3</td>\n",
       "      <td>26</td>\n",
       "      <td>845</td>\n",
       "      <td>5424</td>\n",
       "      <td>6.42</td>\n",
       "      <td>49</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>0.08</td>\n",
       "      <td>2020</td>\n",
       "      <td>17.33</td>\n",
       "      <td>16.0</td>\n",
       "      <td>42.0</td>\n",
       "      <td>17.0</td>\n",
       "      <td>728.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>17.33</td>\n",
       "      <td>Sun Belt</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>Arizona</td>\n",
       "      <td>5</td>\n",
       "      <td>0</td>\n",
       "      <td>5</td>\n",
       "      <td>86</td>\n",
       "      <td>373</td>\n",
       "      <td>1847</td>\n",
       "      <td>4.95</td>\n",
       "      <td>10</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>-1.80</td>\n",
       "      <td>2020</td>\n",
       "      <td>55.00</td>\n",
       "      <td>127.0</td>\n",
       "      <td>2.0</td>\n",
       "      <td>17.0</td>\n",
       "      <td>110.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>55.00</td>\n",
       "      <td>Pac-12</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>...</th>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "      <td>...</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>122</th>\n",
       "      <td>West Virginia</td>\n",
       "      <td>9</td>\n",
       "      <td>5</td>\n",
       "      <td>4</td>\n",
       "      <td>42</td>\n",
       "      <td>690</td>\n",
       "      <td>3804</td>\n",
       "      <td>5.51</td>\n",
       "      <td>28</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>0.33</td>\n",
       "      <td>2020</td>\n",
       "      <td>19.06</td>\n",
       "      <td>41.0</td>\n",
       "      <td>34.0</td>\n",
       "      <td>7.0</td>\n",
       "      <td>648.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>19.06</td>\n",
       "      <td>Big 12</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>123</th>\n",
       "      <td>Western Ky.</td>\n",
       "      <td>11</td>\n",
       "      <td>5</td>\n",
       "      <td>6</td>\n",
       "      <td>120</td>\n",
       "      <td>699</td>\n",
       "      <td>3200</td>\n",
       "      <td>4.58</td>\n",
       "      <td>21</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.27</td>\n",
       "      <td>2020</td>\n",
       "      <td>21.10</td>\n",
       "      <td>66.0</td>\n",
       "      <td>21.0</td>\n",
       "      <td>18.0</td>\n",
       "      <td>443.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>21.10</td>\n",
       "      <td>C-USA</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>124</th>\n",
       "      <td>Western Mich.</td>\n",
       "      <td>6</td>\n",
       "      <td>4</td>\n",
       "      <td>2</td>\n",
       "      <td>15</td>\n",
       "      <td>392</td>\n",
       "      <td>2878</td>\n",
       "      <td>7.34</td>\n",
       "      <td>32</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.50</td>\n",
       "      <td>2020</td>\n",
       "      <td>19.95</td>\n",
       "      <td>49.0</td>\n",
       "      <td>22.0</td>\n",
       "      <td>15.0</td>\n",
       "      <td>439.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>19.95</td>\n",
       "      <td>MAC</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>125</th>\n",
       "      <td>Wisconsin</td>\n",
       "      <td>6</td>\n",
       "      <td>3</td>\n",
       "      <td>3</td>\n",
       "      <td>93</td>\n",
       "      <td>431</td>\n",
       "      <td>2153</td>\n",
       "      <td>5.00</td>\n",
       "      <td>17</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.50</td>\n",
       "      <td>2020</td>\n",
       "      <td>21.08</td>\n",
       "      <td>63.0</td>\n",
       "      <td>13.0</td>\n",
       "      <td>11.0</td>\n",
       "      <td>274.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>21.08</td>\n",
       "      <td>Big Ten</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>126</th>\n",
       "      <td>Wyoming</td>\n",
       "      <td>6</td>\n",
       "      <td>2</td>\n",
       "      <td>4</td>\n",
       "      <td>82</td>\n",
       "      <td>409</td>\n",
       "      <td>2237</td>\n",
       "      <td>5.47</td>\n",
       "      <td>17</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>0.17</td>\n",
       "      <td>2020</td>\n",
       "      <td>23.94</td>\n",
       "      <td>102.0</td>\n",
       "      <td>17.0</td>\n",
       "      <td>14.0</td>\n",
       "      <td>407.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>23.94</td>\n",
       "      <td>MWC</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>127 rows × 155 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "              Team  Games  Win  Loss  Off.Rank  Off.Plays  Off.Yards  \\\n",
       "0        Air Force      6    3     3        73        373       2336   \n",
       "1            Akron      6    1     5       121        360       1687   \n",
       "2          Alabama     11   11     0         5        764       5983   \n",
       "3        App State     12    9     3        26        845       5424   \n",
       "4          Arizona      5    0     5        86        373       1847   \n",
       "..             ...    ...  ...   ...       ...        ...        ...   \n",
       "122  West Virginia      9    5     4        42        690       3804   \n",
       "123    Western Ky.     11    5     6       120        699       3200   \n",
       "124  Western Mich.      6    4     2        15        392       2878   \n",
       "125      Wisconsin      6    3     3        93        431       2153   \n",
       "126        Wyoming      6    2     4        82        409       2237   \n",
       "\n",
       "     Off.Yards.Play  Off.TDs  Total.TDs  ...  Avg.Turnover.Margin.per.Game  \\\n",
       "0              6.26       19        NaN  ...                          0.00   \n",
       "1              4.69       12        NaN  ...                         -0.50   \n",
       "2              7.83       68        NaN  ...                          0.91   \n",
       "3              6.42       49        NaN  ...                          0.08   \n",
       "4              4.95       10        NaN  ...                         -1.80   \n",
       "..              ...      ...        ...  ...                           ...   \n",
       "122            5.51       28        NaN  ...                          0.33   \n",
       "123            4.58       21        NaN  ...                         -0.27   \n",
       "124            7.34       32        NaN  ...                         -0.50   \n",
       "125            5.00       17        NaN  ...                         -0.50   \n",
       "126            5.47       17        NaN  ...                          0.17   \n",
       "\n",
       "     Year  ...40  Kickoff.Return.Def.Rank  Opp.Kickoff.Returns  \\\n",
       "0    2020  23.14                     96.0                 14.0   \n",
       "1    2020  21.25                     67.0                 16.0   \n",
       "2    2020  18.48                     34.0                 33.0   \n",
       "3    2020  17.33                     16.0                 42.0   \n",
       "4    2020  55.00                    127.0                  2.0   \n",
       "..    ...    ...                      ...                  ...   \n",
       "122  2020  19.06                     41.0                 34.0   \n",
       "123  2020  21.10                     66.0                 21.0   \n",
       "124  2020  19.95                     49.0                 22.0   \n",
       "125  2020  21.08                     63.0                 13.0   \n",
       "126  2020  23.94                    102.0                 17.0   \n",
       "\n",
       "     Kickoff.Touchbacks  Opponent.Kickoff.Return.Yards  \\\n",
       "0                   9.0                          324.0   \n",
       "1                   6.0                          340.0   \n",
       "2                  17.0                          610.0   \n",
       "3                  17.0                          728.0   \n",
       "4                  17.0                          110.0   \n",
       "..                  ...                            ...   \n",
       "122                 7.0                          648.0   \n",
       "123                18.0                          443.0   \n",
       "124                15.0                          439.0   \n",
       "125                11.0                          274.0   \n",
       "126                14.0                          407.0   \n",
       "\n",
       "     Opp.Kickoff.Return.Touchdowns.Allowed  \\\n",
       "0                                      1.0   \n",
       "1                                      0.0   \n",
       "2                                      0.0   \n",
       "3                                      1.0   \n",
       "4                                      1.0   \n",
       "..                                     ...   \n",
       "122                                    1.0   \n",
       "123                                    1.0   \n",
       "124                                    0.0   \n",
       "125                                    0.0   \n",
       "126                                    0.0   \n",
       "\n",
       "     Avg.Yards.per.Kickoff.Return.Allowed  Conference  \n",
       "0                                   23.14         MWC  \n",
       "1                                   21.25         MAC  \n",
       "2                                   18.48         SEC  \n",
       "3                                   17.33    Sun Belt  \n",
       "4                                   55.00      Pac-12  \n",
       "..                                    ...         ...  \n",
       "122                                 19.06      Big 12  \n",
       "123                                 21.10       C-USA  \n",
       "124                                 19.95         MAC  \n",
       "125                                 21.08     Big Ten  \n",
       "126                                 23.94         MWC  \n",
       "\n",
       "[127 rows x 155 columns]"
      ]
     },
     "execution_count": 22,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df_2020 = pd.read_csv(\"Downloads/df_2020.csv\")\n",
    "df_2020"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "id": "c7bf1feb",
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "<ipython-input-23-76a6c38c581c>:4: SettingWithCopyWarning: \n",
      "A value is trying to be set on a copy of a slice from a DataFrame.\n",
      "Try using .loc[row_indexer,col_indexer] = value instead\n",
      "\n",
      "See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n",
      "  df_2020['Team'] = df_2020['Team'].str.strip()\n",
      "<ipython-input-23-76a6c38c581c>:5: FutureWarning: The default value of regex will change from True to False in a future version. In addition, single character regular expressions will*not* be treated as literal strings when regex=True.\n",
      "  df_2020.columns = df_2020.columns.str.replace(\".\", \"_\")\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Team</th>\n",
       "      <th>Games</th>\n",
       "      <th>Win</th>\n",
       "      <th>Loss</th>\n",
       "      <th>Off_Rank</th>\n",
       "      <th>Off_Plays</th>\n",
       "      <th>Off_Yards</th>\n",
       "      <th>Off_Yards_Play</th>\n",
       "      <th>Off_TDs</th>\n",
       "      <th>Total_TDs</th>\n",
       "      <th>...</th>\n",
       "      <th>Avg_Turnover_Margin_per_Game</th>\n",
       "      <th>Year</th>\n",
       "      <th>___40</th>\n",
       "      <th>Kickoff_Return_Def_Rank</th>\n",
       "      <th>Opp_Kickoff_Returns</th>\n",
       "      <th>Kickoff_Touchbacks</th>\n",
       "      <th>Opponent_Kickoff_Return_Yards</th>\n",
       "      <th>Opp_Kickoff_Return_Touchdowns_Allowed</th>\n",
       "      <th>Avg_Yards_per_Kickoff_Return_Allowed</th>\n",
       "      <th>Conference</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>40</th>\n",
       "      <td>Indiana</td>\n",
       "      <td>7</td>\n",
       "      <td>6</td>\n",
       "      <td>1</td>\n",
       "      <td>95</td>\n",
       "      <td>485</td>\n",
       "      <td>2507</td>\n",
       "      <td>5.17</td>\n",
       "      <td>26</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>1.43</td>\n",
       "      <td>2020</td>\n",
       "      <td>20.14</td>\n",
       "      <td>52.0</td>\n",
       "      <td>21.0</td>\n",
       "      <td>19.0</td>\n",
       "      <td>423.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>20.14</td>\n",
       "      <td>Big Ten</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>53</th>\n",
       "      <td>Maryland</td>\n",
       "      <td>5</td>\n",
       "      <td>2</td>\n",
       "      <td>3</td>\n",
       "      <td>53</td>\n",
       "      <td>310</td>\n",
       "      <td>2045</td>\n",
       "      <td>6.60</td>\n",
       "      <td>14</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>-1.40</td>\n",
       "      <td>2020</td>\n",
       "      <td>19.86</td>\n",
       "      <td>48.0</td>\n",
       "      <td>14.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>278.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>19.86</td>\n",
       "      <td>Big Ten</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>58</th>\n",
       "      <td>Michigan</td>\n",
       "      <td>6</td>\n",
       "      <td>2</td>\n",
       "      <td>4</td>\n",
       "      <td>78</td>\n",
       "      <td>385</td>\n",
       "      <td>2291</td>\n",
       "      <td>5.95</td>\n",
       "      <td>21</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.33</td>\n",
       "      <td>2020</td>\n",
       "      <td>20.57</td>\n",
       "      <td>58.0</td>\n",
       "      <td>7.0</td>\n",
       "      <td>14.0</td>\n",
       "      <td>144.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>20.57</td>\n",
       "      <td>Big Ten</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>59</th>\n",
       "      <td>Michigan St.</td>\n",
       "      <td>7</td>\n",
       "      <td>2</td>\n",
       "      <td>5</td>\n",
       "      <td>109</td>\n",
       "      <td>481</td>\n",
       "      <td>2312</td>\n",
       "      <td>4.81</td>\n",
       "      <td>13</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>-1.29</td>\n",
       "      <td>2020</td>\n",
       "      <td>24.24</td>\n",
       "      <td>105.0</td>\n",
       "      <td>17.0</td>\n",
       "      <td>9.0</td>\n",
       "      <td>412.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>24.24</td>\n",
       "      <td>Big Ten</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>75</th>\n",
       "      <td>Ohio St.</td>\n",
       "      <td>6</td>\n",
       "      <td>6</td>\n",
       "      <td>0</td>\n",
       "      <td>6</td>\n",
       "      <td>436</td>\n",
       "      <td>3175</td>\n",
       "      <td>7.28</td>\n",
       "      <td>31</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>1.33</td>\n",
       "      <td>2020</td>\n",
       "      <td>18.87</td>\n",
       "      <td>38.0</td>\n",
       "      <td>15.0</td>\n",
       "      <td>10.0</td>\n",
       "      <td>283.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>18.87</td>\n",
       "      <td>Big Ten</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>81</th>\n",
       "      <td>Penn St.</td>\n",
       "      <td>9</td>\n",
       "      <td>4</td>\n",
       "      <td>5</td>\n",
       "      <td>37</td>\n",
       "      <td>709</td>\n",
       "      <td>3873</td>\n",
       "      <td>5.46</td>\n",
       "      <td>32</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.78</td>\n",
       "      <td>2020</td>\n",
       "      <td>17.25</td>\n",
       "      <td>15.0</td>\n",
       "      <td>4.0</td>\n",
       "      <td>42.0</td>\n",
       "      <td>69.0</td>\n",
       "      <td>0.0</td>\n",
       "      <td>17.25</td>\n",
       "      <td>Big Ten</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>85</th>\n",
       "      <td>Rutgers</td>\n",
       "      <td>9</td>\n",
       "      <td>3</td>\n",
       "      <td>6</td>\n",
       "      <td>105</td>\n",
       "      <td>658</td>\n",
       "      <td>3052</td>\n",
       "      <td>4.64</td>\n",
       "      <td>27</td>\n",
       "      <td>NaN</td>\n",
       "      <td>...</td>\n",
       "      <td>0.67</td>\n",
       "      <td>2020</td>\n",
       "      <td>20.07</td>\n",
       "      <td>50.0</td>\n",
       "      <td>28.0</td>\n",
       "      <td>5.0</td>\n",
       "      <td>562.0</td>\n",
       "      <td>1.0</td>\n",
       "      <td>20.07</td>\n",
       "      <td>Big Ten</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>7 rows × 155 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "            Team  Games  Win  Loss  Off_Rank  Off_Plays  Off_Yards  \\\n",
       "40       Indiana      7    6     1        95        485       2507   \n",
       "53      Maryland      5    2     3        53        310       2045   \n",
       "58      Michigan      6    2     4        78        385       2291   \n",
       "59  Michigan St.      7    2     5       109        481       2312   \n",
       "75      Ohio St.      6    6     0         6        436       3175   \n",
       "81      Penn St.      9    4     5        37        709       3873   \n",
       "85       Rutgers      9    3     6       105        658       3052   \n",
       "\n",
       "    Off_Yards_Play  Off_TDs  Total_TDs  ...  Avg_Turnover_Margin_per_Game  \\\n",
       "40            5.17       26        NaN  ...                          1.43   \n",
       "53            6.60       14        NaN  ...                         -1.40   \n",
       "58            5.95       21        NaN  ...                         -0.33   \n",
       "59            4.81       13        NaN  ...                         -1.29   \n",
       "75            7.28       31        NaN  ...                          1.33   \n",
       "81            5.46       32        NaN  ...                         -0.78   \n",
       "85            4.64       27        NaN  ...                          0.67   \n",
       "\n",
       "    Year  ___40  Kickoff_Return_Def_Rank  Opp_Kickoff_Returns  \\\n",
       "40  2020  20.14                     52.0                 21.0   \n",
       "53  2020  19.86                     48.0                 14.0   \n",
       "58  2020  20.57                     58.0                  7.0   \n",
       "59  2020  24.24                    105.0                 17.0   \n",
       "75  2020  18.87                     38.0                 15.0   \n",
       "81  2020  17.25                     15.0                  4.0   \n",
       "85  2020  20.07                     50.0                 28.0   \n",
       "\n",
       "    Kickoff_Touchbacks  Opponent_Kickoff_Return_Yards  \\\n",
       "40                19.0                          423.0   \n",
       "53                 1.0                          278.0   \n",
       "58                14.0                          144.0   \n",
       "59                 9.0                          412.0   \n",
       "75                10.0                          283.0   \n",
       "81                42.0                           69.0   \n",
       "85                 5.0                          562.0   \n",
       "\n",
       "    Opp_Kickoff_Return_Touchdowns_Allowed  \\\n",
       "40                                    0.0   \n",
       "53                                    0.0   \n",
       "58                                    0.0   \n",
       "59                                    0.0   \n",
       "75                                    0.0   \n",
       "81                                    0.0   \n",
       "85                                    1.0   \n",
       "\n",
       "    Avg_Yards_per_Kickoff_Return_Allowed  Conference  \n",
       "40                                 20.14     Big Ten  \n",
       "53                                 19.86     Big Ten  \n",
       "58                                 20.57     Big Ten  \n",
       "59                                 24.24     Big Ten  \n",
       "75                                 18.87     Big Ten  \n",
       "81                                 17.25     Big Ten  \n",
       "85                                 20.07     Big Ten  \n",
       "\n",
       "[7 rows x 155 columns]"
      ]
     },
     "execution_count": 23,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "B10_east = ['Indiana', 'Maryland', 'Michigan', 'Michigan St.', 'Ohio St.',\n",
    "       'Penn St.', 'Rutgers']\n",
    "df_2020 = df_2020[df_2020['Team'].isin(B10_east)] \n",
    "df_2020['Team'] = df_2020['Team'].str.strip()\n",
    "df_2020.columns = df_2020.columns.str.replace(\".\", \"_\")\n",
    "\n",
    "\n",
    "df_2020"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "id": "41bf864b",
   "metadata": {},
   "outputs": [],
   "source": [
    "df_2020_copy = df_2020.drop(['Team'], axis = 1)\n",
    "df_2020_copy = df_2020_copy[['Win','Loss',\n",
    " 'Total_Points',\n",
    " 'Touchdowns',\n",
    " 'Off_TDs',\n",
    " 'PAT',\n",
    " 'Pass_Yards_Attempt',\n",
    " 'Opp_Pass_Attempts',\n",
    " 'Scoring_Off_Rank',\n",
    " 'Redzone_Scores',\n",
    " 'Rushing_Def_Rank',\n",
    " 'Rush_Attempts',\n",
    " 'Opp_First_Down_Passes',\n",
    " 'First_Down_Passes',\n",
    " 'Yards_Completion',\n",
    " 'Off_Plays',\n",
    " 'Redzone_Attempts',\n",
    " 'Avg_Points_per_Game_Allowed',\n",
    " 'X3rd_Down_Def_Rank',\n",
    " 'Off_Yards']]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "id": "4b3bb4ce",
   "metadata": {},
   "outputs": [],
   "source": [
    "df_2020_prepared = full_pipeline.fit_transform(df_2020_copy)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "id": "887d65a1",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "Output shape: (7, 2)\n",
      "Your submission was successfully saved!\n"
     ]
    },
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style scoped>\n",
       "    .dataframe tbody tr th:only-of-type {\n",
       "        vertical-align: middle;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: right;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>Team</th>\n",
       "      <th>Ranking</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>40</th>\n",
       "      <td>Indiana</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>53</th>\n",
       "      <td>Maryland</td>\n",
       "      <td>7</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>58</th>\n",
       "      <td>Michigan</td>\n",
       "      <td>6</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>59</th>\n",
       "      <td>Michigan St.</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>75</th>\n",
       "      <td>Ohio St.</td>\n",
       "      <td>2</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>81</th>\n",
       "      <td>Penn St.</td>\n",
       "      <td>1</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>85</th>\n",
       "      <td>Rutgers</td>\n",
       "      <td>5</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "            Team  Ranking\n",
       "40       Indiana        2\n",
       "53      Maryland        7\n",
       "58      Michigan        6\n",
       "59  Michigan St.        5\n",
       "75      Ohio St.        2\n",
       "81      Penn St.        1\n",
       "85       Rutgers        5"
      ]
     },
     "execution_count": 29,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "predictions = logreg.predict(df_2020_prepared)\n",
    "output = pd.DataFrame({'Team': df_2020.Team, 'Ranking': predictions})\n",
    "output\n",
    "# output.to_csv('submission.csv', index=False)\n",
    "print('Output shape:', output.shape)\n",
    "# print(\"Your submission was successfully saved!\")\n",
    "predictions\n",
    "output"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "4fe4437f",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.8.8"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
